<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="question-group-holder" *ngFor="let question of formQuestions.controls; let i = index;">
        <span formArrayName="questionIds">
            <input
                [formControlName]="i"
                type="hidden"
            >
        </span>
        <div class="form-group"
             formArrayName="formQuestions">
            <label>
                <span>Question #{{ i + 1 }}</span>
                <input
                    type="text"
                    class="form-control"
                    [formControlName]="i"
                />
            </label>
        </div>
        <div class="holder">
            <div class="form-group"
                formArrayName="correctAnswers">
                <div [formGroupName]="i">
                    <input
                        type="hidden"
                        formControlName="id"
                    />
                    <label>
                        <span>Correct Answer</span>
                        <input
                            type="text"
                            class="form-control"
                            formControlName="body"
                        />
                    </label>
                </div>
            </div>
            <div class="form-group"
                 formArrayName="answerExplanation">
                <label for="answer_explanation">Why is the answer correct?</label>
                <input
                    type="text"
                    class="form-control"
                    [formControlName]="i"
                    id="answer_explanation"
                />
            </div>
            <div class="form-group">
                <div class="row">
                    <label class="col-lg-12">3 wrong answers</label>
                </div>
                <div class="row" formArrayName="wrongAnswers">
                    <div
                        *ngFor="let answer of form.controls.wrongAnswers.at(i).controls; let k = index;"
                        [formArrayName]="i"
                        class="col-lg-4">
                        <div [formGroupName]="k">
                            <input
                                type="hidden"
                                formControlName="id"
                            />
                            <input
                                type="text"
                                class="form-control"
                                formControlName="body"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="form-group">
        <button
            type="submit"
            class="btn btn-default"
            [disabled]="!form.valid">
            Save form
        </button>
        <div
            class="btn btn-default"
            (click)="addQuestion()">
            Add question
        </div>
    </div>

</form>